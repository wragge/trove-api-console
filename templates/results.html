<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# schema: http://schema.org/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Trove API Console</title>
    <meta property="og:title" content="Trove API Console" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://troveconsole.herokuapp.com/" />
    <meta property="og:image" content="http://troveconsole.herokuapp.com/static/img/code.png" />
    <meta property="og:description" content="Explore the workings of the Trove API with this simple console." />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@wragge" />

    <!-- Bootstrap -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/js/styles/github.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
  </head>
  <body>
    <div class="container">
    <header>
      <h1 property="schema:name">Trove API Console</h1>
      <p property="schema:description" class="text-muted">Explore the workings of the Trove API</p>
    </header>
      <form class="form" action="" method="get" role="form">
        <div class="form-group">
          <div class="row">
          <div class="col-md-10">
          <label class="sr-only" for="url">API url</label>
      	   <input name="url" id="url" class="form-control input-lg" type="text" value="{{ url }}" placeholder="Your API query...">
           <span class="help-block">Enter an API query to view the results (no key required), or start with one of the examples below.</span>
          </div>
          <div class="col-md-1">
            <button class="btn btn-lg btn-primary" type="submit">Go!</button>
          </div>
          <div class="col-md-1">
            <button id="clear" class="btn btn-lg">Clear</button>
          </div>
        </div>
        </div>
      </form>
      <div id="results">
      {% if error %}
      <p class="alert alert-warning">{{ error }}</p>
      {% endif %}
      {% if data %}
        <pre><code>
          {{ data|safe }}
        </code></pre>
      {% endif %}
      </div>

      <h2>Examples</h2>
      <p>
        Click on any of the examples below to open them in this console. If you want to use them in your own code you'll need to <a href="http://help.nla.gov.au/trove/building-with-trove/api">get an API key</a> and add '&amp;key=[Your API key]' to the url.
      </p>
      <p>See the Trove <a href="http://help.nla.gov.au/trove/building-with-trove/api-technical-guide">API documentation</a> for a full list of available parameters and detailed information on constructing queries.</p>
      <ul class="nav nav-pills">
        <li><a href="#everything">Search everything</a></li>
        <li><a href="#newspapers">Search newspapers</a></li>
        <li><a href="#otherzones">Search other zones</a></li>
        <li><a href="#getrecord">Get record</a></li>
        <li><a href="#gettitles">List/get newspaper titles</a></li>
        <li><a href="#getcontributors">List/get Trove contributors</a></li>
      </ul>
      
      <h3 id="everything">Search everything</h3>
        <table class="table">
          <tr>
            <th>Parameters</th>
            <th>url</th>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: all</li>
                <li>q (query): wragge</li>
                <li>encoding: xml (default)</li>
                <li>n (number of results): 20 (default)</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge%26zone%3Dall">http://api.trove.nla.gov.au/result?q=wragge&zone=all</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: all</li>
                <li>q (query): wragge</li>
                <li>encoding: json</li>
                <li>n (number of results): 50</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge%26zone%3Dall%26encoding%3Djson%26n%3D50">http://api.trove.nla.gov.au/result?q=wragge&zone=all&encoding=json&n=50</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: all</li>
                <li>q (query): nuc:ANL (contributor id)</li>
                <li>encoding: json</li>
                <li>n (number of results): 50</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dnuc%3AANL%26zone%3Dall%26encoding%3Djson">http://api.trove.nla.gov.au/result?q=nuc:ANL&zone=all&encoding=json</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: all</li>
                <li>q (query): wragge</li>
                <li>encoding: json</li>
                <li>n (number of results): 20 (default)</li>
                <li>l-australian: y (in Australia or by Australians)</li>
                <li>l-availability: y/f (freely accessible online)</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge%26zone%3Dall%26encoding%3Djson%26l-australia%3Dy%26l-availability%3Dy%2Ff">http://api.trove.nla.gov.au/result?q=wragge&zone=all&encoding=json&l-australia=y&l-availability=y/f</a>
            </td>
          </tr>
        </table>
      <h3 id="newspapers">Search newspapers</h3>
        <table class="table">
          <tr>
            <th>Parameters</th>
            <th>url</th>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: newspaper</li>
                <li>q (query): wragge AND weather</li>
                <li>encoding: json</li>
                <li>n (number of results): 20 (default)</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge+AND+weather%26zone%3Dnewspaper%26encoding%3Djson">http://api.trove.nla.gov.au/result?q=wragge+AND+weather&zone=newspaper&encoding=json</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: newspaper</li>
                <li>q (query): wragge AND weather</li>
                <li>encoding: json</li>
                <li>l-year: 1903</li>
                <li>l-category: Article</li>
                <li>n (number of results): 20 (default)</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge+AND+weather%26zone%3Dnewspaper%26encoding%3Djson%26l-year%3D1903">http://api.trove.nla.gov.au/result?q=wragge AND weather&zone=newspaper&encoding=json&l-year=1903</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: newspaper</li>
                <li>q (query): wragge AND weather</li>
                <li>encoding: json</li>
                <li>l-decade: 190</li>
                <li>facet: year</li>
                <li>n (number of results): 0</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge+AND+weather%26zone%3Dnewspaper%26encoding%3Djson%26l-decade%3D190%26facet%3Dyear%26n%3D0">http://api.trove.nla.gov.au/result?q=wragge AND weather&zone=newspaper&encoding=json&l-decade=190&facet=year&n=0</a>
            </td>
          </tr>
        </table>
        <h3 id="otherzones">Search other zones</h3>
        <table class="table">
          <tr>
            <th>Parameters</th>
            <th>url</th>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: book,picture</li>
                <li>q (query): wragge AND weather</li>
                <li>encoding: json</li>
                <li>n (number of results): 20 (default)</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dwragge+AND+weather%26zone%3Dbook%2Cpicture%26encoding%3Djson">http://api.trove.nla.gov.au/result?q=wragge AND weather&zone=book,picture&encoding=json</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: book</li>
                <li>q (query): weather</li>
                <li>encoding: json</li>
                <li>l-format: Thesis</li>
                <li>n (number of results): 20 (default)</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dweather%26zone%3Dbook%26encoding%3Djson%26l-format%3DThesis">http://api.trove.nla.gov.au/result?q=weather&zone=book&encoding=json&l-format=Thesis</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>zone: newspaper</li>
                <li>q (query): weather</li>
                <li>encoding: json</li>
                <li>facet: format</li>
                <li>n (number of results): 0</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fresult%3Fq%3Dweather%26zone%3Dbook%26encoding%3Djson%26facet%3Dformat%26n%3D0">http://api.trove.nla.gov.au/result?q=weather&zone=book&encoding=json&facet=format&n=0</a>
            </td>
          </tr>
        </table>
        <h3 id="getrecord">Get record</h3>
        <table class="table">
          <tr>
            <th>Parameters</th>
            <th>url</th>
          </tr>
          <tr>
            <td>
              <ul>
                <li>type: newspaper</li>
                <li>article id: 41697877</li>
                <li>reclevel: full</li>
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fnewspaper%2F41697877%3Fencoding%3Djson%26reclevel%3Dfull">http://api.trove.nla.gov.au/newspaper/41697877?encoding=json&reclevel=full</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>type: newspaper</li>
                <li>article id: 146871507</li>
                <li>reclevel: full</li>
                <li>include: articletext</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fnewspaper%2F41697877%3Freclevel%3Dfull%26include%3Darticletext">http://api.trove.nla.gov.au/newspaper/41697877?reclevel=full&include=articletext</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>type: work</li>
                <li>article id: 36904481</li>
                <li>reclevel: full</li>
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fwork%2F36904481%3Fencoding%3Djson%26reclevel%3Dfull">http://api.trove.nla.gov.au/work/36904481?encoding=json&reclevel=full</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>type: work</li>
                <li>article id: 34769014</li>
                <li>reclevel: full</li>
                <li>include: workVersions,holdings
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fwork%2F34769014%3Fencoding%3Djson%26include%3DworkVersions%2Choldings%26reclevel%3Dfull">http://api.trove.nla.gov.au/work/34769014?encoding=json&include=workVersions,holdings&reclevel=full</a>
            </td>
          </tr>
        </table>
        <h3 id="gettitles">List/get newspaper titles</h3>
        <table class="table">
          <tr>
            <th>Parameters</th>
            <th>url</th>
          </tr>
          <tr>
            <td>
              <ul>
                <li>state: vic</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fnewspaper%2Ftitles%3Fstate%3Dvic">http://api.trove.nla.gov.au/newspaper/titles?state=vic</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>title id: 35</li>
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fnewspaper%2Ftitle%2F35%3Fencoding%3Djson">http://api.trove.nla.gov.au/newspaper/title/35?encoding=json</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>title id: 35</li>
                <li>include: years</li>
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fnewspaper%2Ftitle%2F35%3Fencoding%3Djson%26include%3Dyears">http://api.trove.nla.gov.au/newspaper/title/35?encoding=json&include=years</a>
            </td>
          </tr>
        </table>
        <h3 id="getcontributors">List/get Trove contributors</h3>
        <table class="table">
          <tr>
            <th>Parameters</th>
            <th>url</th>
          </tr>
          <tr>
            <td>
              <ul>
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fcontributor%3Fencoding%3Djson">http://api.trove.nla.gov.au/contributor?encoding=json</a>
            </td>
          </tr>
          <tr>
            <td>
              <ul>
                <li>NUC identifier: ANL</li>
                <li>reclevel: full</li>
                <li>encoding: json</li>
              </ul>
            </td>
            <td>
              <a href="/?url=http%3A%2F%2Fapi.trove.nla.gov.au%2Fcontributor%2FANL%3Fencoding%3Djson%26reclevel%3Dfull">http://api.trove.nla.gov.au/contributor/ANL?encoding=json&reclevel=full</a>
            </td>
          </tr>
        </table>

      
    <footer>
      <p><small>Created by <a property="schema:creator" href="http://discontents.com.au/about-me/" typeof="schema:Person">Tim Sherratt</a> (<a href="http://twitter.com/wragge">@wragge</a>).</small></p>
    </footer>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/highlight.pack.js"></script>
  <script src="/static/js/vkbeautify.js"></script>
  <script>
    $(function(){
      $('pre code').each(function(i, e) {
        {% if format == 'xml' %}
          $(e).text(vkbeautify.xml($(e).text()));
        {% else %}
          $(e).text(vkbeautify.json($(e).text()));
        {% endif %}
        hljs.highlightBlock(e);
      });
    });
  </script>
  <script src="/static/js/script.js"></script>
  </body>
</html>